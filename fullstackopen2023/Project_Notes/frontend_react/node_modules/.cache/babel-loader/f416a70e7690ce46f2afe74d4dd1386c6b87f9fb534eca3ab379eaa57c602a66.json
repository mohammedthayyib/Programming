{"ast":null,"code":"import _objectSpread from\"/home/mohammed/Desktop/Programming/fullstackopen2023/Project_Notes/frontend_react/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/mohammed/Desktop/Programming/fullstackopen2023/Project_Notes/frontend_react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import Note from'./components/Note';import noteService from'./services/notes';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),notes=_useState2[0],setNotes=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),newNote=_useState4[0],setNewNote=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),showAll=_useState6[0],setShowAll=_useState6[1];useEffect(function(){noteService.getAll().then(function(initialNotes){setNotes(initialNotes);});},[]);console.log('render',notes.length,'notes');var addNote=function addNote(event){event.preventDefault();var noteObject={content:newNote,important:Math.random()<0.5};noteService.create(noteObject).then(function(returnedNote){setNotes(notes.concat(returnedNote));});};var handleNoteChange=function handleNoteChange(event){console.log(event.target.value);setNewNote(event.target.value);};var toggleImportanceOf=function toggleImportanceOf(id){var note=notes.find(function(n){return n.id===id;});var changedNote=_objectSpread(_objectSpread({},note),{},{important:!note.important});noteService.update(id,changedNote).then(function(returnedNote){setNotes(notes.map(function(note){return note.id!==id?note:returnedNote;}));}).catch(function(error){alert(\"the note '\".concat(note.content,\"' was already deleted from server\"));setNotes(notes.filter(function(n){return n.id!==id;}));});};var notesToShow=showAll?notes:notes.filter(function(note){return note.important===true;});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Notes\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(){return setShowAll(!showAll);},children:[\"show \",showAll?'important':'all']})}),/*#__PURE__*/_jsx(\"ul\",{children:notesToShow.map(function(note){return/*#__PURE__*/_jsx(Note,{note:note,toggleImportance:function toggleImportance(){return toggleImportanceOf(note.id);}},note.id);})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:addNote,children:[/*#__PURE__*/_jsx(\"input\",{value:newNote,onChange:handleNoteChange}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"save\"})]})]});};export default App;","map":{"version":3,"names":["useState","useEffect","Note","noteService","jsx","_jsx","jsxs","_jsxs","App","props","_useState","_useState2","_slicedToArray","notes","setNotes","_useState3","_useState4","newNote","setNewNote","_useState5","_useState6","showAll","setShowAll","getAll","then","initialNotes","console","log","length","addNote","event","preventDefault","noteObject","content","important","Math","random","create","returnedNote","concat","handleNoteChange","target","value","toggleImportanceOf","id","note","find","n","changedNote","_objectSpread","update","map","catch","error","alert","filter","notesToShow","children","onClick","toggleImportance","onSubmit","onChange","type"],"sources":["/home/mohammed/Desktop/Programming/fullstackopen2023/Project_Notes/frontend_react/src/App.js"],"sourcesContent":["import { useState, useEffect } from 'react'\nimport Note from './components/Note'\nimport noteService from './services/notes'\n\nconst App = (props) => {\n\tconst [notes, setNotes] = useState([])\n\tconst [newNote, setNewNote] = useState('') \n\tconst [showAll, setShowAll] = useState(true)\t\n\n\tuseEffect(() => {\n\t\tnoteService\n  \t\t.getAll()\n  \t\t.then(initialNotes => {\n  \t\t  setNotes(initialNotes)\n  \t\t})\n\t}, [])\n\n\tconsole.log('render', notes.length, 'notes')\n\n\tconst addNote = (event) => {\n\t\tevent.preventDefault()\n\t\tconst noteObject = {\n\t\t\tcontent: newNote,\n\t\t\timportant: Math.random() < 0.5,\n\t\t  }\n\t\t\n\t\tnoteService\n\t\t .create(noteObject)\n\t\t .then(returnedNote => {\n\t\t\tsetNotes(notes.concat(returnedNote))\n\t\t})\n\t}\n\n\tconst handleNoteChange = (event) => {\n\t\tconsole.log(event.target.value)\n\t\tsetNewNote(event.target.value)\n\t  }\n\t\n\tconst toggleImportanceOf = id => {\n\t\tconst note = notes.find(n => n.id === id)\n\t\tconst changedNote = { ...note, important: !note.important }\n\t\n\t\tnoteService\n    \t.update(id, changedNote)\n    \t.then(returnedNote => {\n\t\t\tsetNotes(notes.map(note => note.id !== id ? note : returnedNote))\n    \t})\n\t\t.catch(error => {\n\t\t\talert(\n\t\t\t  `the note '${note.content}' was already deleted from server`\n\t\t\t)\n\t\t\tsetNotes(notes.filter(n => n.id !== id))\n\t\t})\n\t}\t\n\tconst notesToShow = showAll ? notes: notes.filter(note => note.important === true)\n\treturn (\n\t\t<div>\n\t\t\t<h1>Notes</h1>\n\t\t\t<div>\n        \t\t<button\n\t\t\t\t onClick={() => setShowAll(!showAll)}>show {showAll ? 'important' : 'all' }\n        \t\t</button>\n     \t\t </div>\n\t\t\t<ul>\n\t\t\t\t{notesToShow.map(note => \n\t\t\t\t\t<Note\n\t\t\t\t\t\tkey={note.id}\n\t\t\t\t\t\tnote={note}\n\t\t\t\t\t\ttoggleImportance={() => toggleImportanceOf(note.id)}\n\t\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</ul>\n\t\t\t<form onSubmit={addNote}>\n\t\t\t\t<input\n\t\t\t\t value={newNote}\n\t\t\t\t onChange={handleNoteChange}\n\t\t\t\t />\n\t\t\t\t<button type=\"submit\">save</button>\n\t\t\t</form> \n\t\t</div>\n\t)\n}\n\nexport default App"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}